@model StarLogger.Models.Game
@using StarLogger.Helpers

<h2>@Model.Title</h2>

<p><strong>Platform:</strong> @Model.Platform</p>
<p><strong>Release Date:</strong> @Model.ReleaseDate.ToShortDateString()</p>
<p><strong>Genre:</strong> @Model.Genre</p>

<h4>Achievements:</h4>
@if (Model.Achievements != null && Model.Achievements.Count > 0)
{
    <ul>
        @foreach (var ach in Model.Achievements)
        {
            var achSlug = SlugHelper.ToSlug(ach.Name);
            <li>
                <a asp-controller="Achievements"
                   asp-action="Details"
                   asp-route-id="@ach.AchievementId"
                   asp-route-slug="@achSlug">
                    @ach.Name
                </a> - @ach.Points pts
            </li>
        }
    </ul>
}
else
{
    <p>No achievements yet.</p>
}

@{
    var slug = SlugHelper.ToSlug(Model.Title);
}

<p>
    <a asp-action="Edit" asp-route-id="@Model.GameId" asp-route-slug="@slug" class="btn btn-warning">Edit</a>
    <a asp-action="Delete" asp-route-id="@Model.GameId" asp-route-slug="@slug" class="btn btn-danger">Delete</a>
    <a asp-action="Index" class="btn btn-secondary">Back to List</a>
</p>
